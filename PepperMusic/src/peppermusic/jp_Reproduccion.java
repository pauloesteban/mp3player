/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package peppermusic;

import com.sun.awt.AWTUtilities;
import java.awt.Shape;
import java.awt.geom.RoundRectangle2D;
import javax.swing.ImageIcon;
import javax.swing.JLabel;
import javax.swing.JScrollPane;
import javax.swing.JTextPane;

/**
 *
 * @author orlando
 */
public class jp_Reproduccion extends javax.swing.JPanel {
    
    /**
     * Creates new form jp_Reproduccion
     */
    jp_Canciones canc;
   
    int repetir=0;
    
    public jp_Reproduccion(jp_Canciones can) {
        initComponents();
        canc =can;
        
        
        START.setSelected(true);
        if(canc.venta.EnRepro==false){
        canc.venta.Barra = new Clase_Progreso(jp_Progreso,this);
        canc.venta.Barra.start();
        }
      js_volumen.setVisible(false);
        js_volumen.validate();
        jb_repetir.setToolTipText("REPETICIÓN DESACTIVADA");
       
       
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jtb_agrandar = new javax.swing.JToggleButton();
        karaoke = new javax.swing.JToggleButton();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        START = new peppermusic.CustomButton();
        jButton4 = new javax.swing.JButton();
        customButton1 = new peppermusic.CustomButton();
        js_volumen = new javax.swing.JSlider();
        jtb_aleatorio = new peppermusic.CustomButton();
        jb_repetir = new javax.swing.JButton();
        jp_Progreso = new peppermusic.CustomPanel();
        jlb_tiempo = new javax.swing.JLabel();
        jp_Letras = new javax.swing.JPanel();
        js_Letras = new javax.swing.JScrollPane();
        jTextArea1 = new javax.swing.JTextArea();
        jLabel5 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();

        setOpaque(false);
        setLayout(null);

        jtb_agrandar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/boton_pequeño.png"))); // NOI18N
        jtb_agrandar.setBorder(null);
        jtb_agrandar.setBorderPainted(false);
        jtb_agrandar.setContentAreaFilled(false);
        jtb_agrandar.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/boton_agrandar.png"))); // NOI18N
        jtb_agrandar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jtb_agrandarActionPerformed(evt);
            }
        });
        add(jtb_agrandar);
        jtb_agrandar.setBounds(265, 23, 25, 25);

        karaoke.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/barramusical.png"))); // NOI18N
        karaoke.setBorder(null);
        karaoke.setBorderPainted(false);
        karaoke.setContentAreaFilled(false);
        karaoke.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/karaoke.png"))); // NOI18N
        karaoke.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                karaokeStateChanged(evt);
            }
        });
        karaoke.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                karaokeMouseClicked(evt);
            }
        });
        karaoke.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                karaokeActionPerformed(evt);
            }
        });
        add(karaoke);
        karaoke.setBounds(260, 210, 27, 40);

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_avanzar.png"))); // NOI18N
        jButton1.setBorderPainted(false);
        jButton1.setContentAreaFilled(false);
        jButton1.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_avanzar2.png"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        add(jButton1);
        jButton1.setBounds(220, 108, 30, 30);

        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_retroceder.png"))); // NOI18N
        jButton2.setBorderPainted(false);
        jButton2.setContentAreaFilled(false);
        jButton2.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_retroceder2.png"))); // NOI18N
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        add(jButton2);
        jButton2.setBounds(150, 108, 30, 30);

        START.setBorder(null);
        START.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_start.png"))); // NOI18N
        START.setBorderPainted(false);
        START.setContentAreaFilled(false);
        START.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_star2.png"))); // NOI18N
        START.setRolloverSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_stop2.png"))); // NOI18N
        START.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_stop.png"))); // NOI18N
        START.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                STARTActionPerformed(evt);
            }
        });
        add(START);
        START.setBounds(172, 46, 56, 56);

        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_fin.png"))); // NOI18N
        jButton4.setBorder(null);
        jButton4.setBorderPainted(false);
        jButton4.setContentAreaFilled(false);
        jButton4.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_fin2.png"))); // NOI18N
        add(jButton4);
        jButton4.setBounds(182, 116, 36, 36);

        customButton1.setBorder(null);
        customButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_volumen.png"))); // NOI18N
        customButton1.setBorderPainted(false);
        customButton1.setContentAreaFilled(false);
        customButton1.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_volumen_sin.png"))); // NOI18N
        customButton1.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseDragged(java.awt.event.MouseEvent evt) {
                customButton1MouseDragged(evt);
            }
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                customButton1MouseMoved(evt);
            }
        });
        customButton1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                customButton1MouseExited(evt);
            }
        });
        add(customButton1);
        customButton1.setBounds(250, 120, 25, 25);

        js_volumen.setOrientation(javax.swing.JSlider.VERTICAL);
        js_volumen.setPaintLabels(true);
        js_volumen.setToolTipText("");
        js_volumen.setValue(80);
        js_volumen.setDebugGraphicsOptions(javax.swing.DebugGraphics.NONE_OPTION);
        js_volumen.setOpaque(false);
        js_volumen.addContainerListener(new java.awt.event.ContainerAdapter() {
            public void componentAdded(java.awt.event.ContainerEvent evt) {
                js_volumenComponentAdded(evt);
            }
        });
        js_volumen.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                js_volumenMouseMoved(evt);
            }
        });
        js_volumen.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                js_volumenMouseExited(evt);
            }
        });
        add(js_volumen);
        js_volumen.setBounds(245, 36, 35, 90);

        jtb_aleatorio.setBorder(null);
        jtb_aleatorio.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_aleatorio_off.png"))); // NOI18N
        jtb_aleatorio.setBorderPainted(false);
        jtb_aleatorio.setContentAreaFilled(false);
        jtb_aleatorio.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_aleatorio_on.png"))); // NOI18N
        add(jtb_aleatorio);
        jtb_aleatorio.setBounds(30, 115, 20, 20);

        jb_repetir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_rep_off.png"))); // NOI18N
        jb_repetir.setBorder(null);
        jb_repetir.setBorderPainted(false);
        jb_repetir.setContentAreaFilled(false);
        jb_repetir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jb_repetirActionPerformed(evt);
            }
        });
        add(jb_repetir);
        jb_repetir.setBounds(120, 115, 20, 20);

        jp_Progreso.setOpaque(false);
        jp_Progreso.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jp_ProgresoMouseClicked(evt);
            }
        });
        jp_Progreso.setLayout(null);
        add(jp_Progreso);
        jp_Progreso.setBounds(160, 34, 80, 80);

        jlb_tiempo.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jlb_tiempo.setText("0:50 - 3:04");
        add(jlb_tiempo);
        jlb_tiempo.setBounds(50, 120, 70, 14);

        jp_Letras.setOpaque(false);
        jp_Letras.setLayout(null);

        js_Letras.setHorizontalScrollBar(null);
        js_Letras.setMaximumSize(new java.awt.Dimension(230, 140));
        js_Letras.setMinimumSize(new java.awt.Dimension(230, 140));
        js_Letras.setOpaque(false);
        js_Letras.setPreferredSize(new java.awt.Dimension(230, 140));

        jTextArea1.setEditable(false);
        jTextArea1.setColumns(20);
        jTextArea1.setFont(new java.awt.Font("Monospaced", 1, 11)); // NOI18N
        jTextArea1.setRows(5);
        jTextArea1.setText("Is this the real life? \nIs this just fantasy? \nCaught in a landside, \nNo escape from reality \nOpen your eyes, \nLook up to the skies and see, \nI'm just a poor boy, I need no sympathy, \nBecause I'm easy come, easy go, \nLittle high, little low, \nAny way the wind blows doesn't really matter to \nme, to me \n\nMamaaa, \nJust killed a man, \nPut a gun against his head, pulled my trigger, \nnow he's dead \nMamaaa, life had just begun, \nBut now I've gone and thrown it all away \nMama, oooh, \nDidn't mean to make you cry, \nIf I'm not back again this time tomorrow, \nCarry on, carry on as if nothing really matters \n\nToo late, my time has come, \nSends shivers down my spine, \nbody's aching all the time \nGoodbye, everybody, I've got to go, \nGotta leave you all behind and face the truth \nMama, oooh (anyway the wind blows) \nI don't want to die, \nI sometimes wish I'd never been born at all. \n\nI see a little silhouetto of a man, \nScaramouch, Scaramouch, will you do the Fandango! \nThunderbolts and lightning, very, very frightening me \nGalileo, Galileo \nGalileo, Galileo \nGalileo, Figaro - magnificoo \n\nI'm just a poor boy nobody loves me \nHe's just a poor boy from a poor family, \nSpare him his life from this monstrosity \nEasy come, easy go, will you let me go \nBismillah! No, we will not let you go \n(Let him go!) Bismillah! We will not let you go \n(Let him go!) Bismillah! We will not let you go \n(Let me go) Will not let you go \n(Let me go)(Never) Never let you go \n(Let me go) (Never) let you go (Let me go) Ah \nNo, no, no, no, no, no, no \nOh mama mia, mama mia, mama mia, let me go \nBeelzebub has a devil put aside for me, for me, \nfor meee \n\nSo you think you can stop me and spit in my eye \nSo you think you can love me and leave me to die \nOh, baby, can't do this to me, baby, \nJust gotta get out, just gotta get right outta here \n\nOoh yeah, ooh yeah \nNothing really matters, Anyone can see, \nNothing really matters, \nNothing really matters to me \n\nAny way the wind blows..");
        jTextArea1.setWrapStyleWord(true);
        jTextArea1.setAutoscrolls(false);
        jTextArea1.setMaximumSize(new java.awt.Dimension(230, 140));
        jTextArea1.setMinimumSize(new java.awt.Dimension(230, 140));
        jTextArea1.setOpaque(false);
        jTextArea1.setPreferredSize(new java.awt.Dimension(230, 1025));
        js_Letras.setViewportView(jTextArea1);

        jp_Letras.add(js_Letras);
        js_Letras.setBounds(0, 0, 230, 140);

        add(jp_Letras);
        jp_Letras.setBounds(30, 160, 230, 140);

        jLabel5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/repro_nombre.png"))); // NOI18N
        add(jLabel5);
        jLabel5.setBounds(30, 50, 120, 60);

        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Recursos/Fondo_Celeste1.png"))); // NOI18N
        add(jLabel1);
        jLabel1.setBounds(0, 0, 300, 336);
    }// </editor-fold>//GEN-END:initComponents

    private void karaokeStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_karaokeStateChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_karaokeStateChanged

    private void karaokeMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_karaokeMouseClicked

    }//GEN-LAST:event_karaokeMouseClicked

    private void karaokeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_karaokeActionPerformed
        if(!karaoke.isSelected()){
            js_Letras.setLocation(0, 0);
           
           jp_Letras.removeAll();
            jp_Letras.add(js_Letras);
            jp_Letras.revalidate();
            jp_Letras.repaint();
           
            /*
           jlb_barras.setIcon(new ImageIcon( getClass().getResource("/Recursos/imagen_letras.png")));
            jlb_barras.repaint();
            jlb_barras.revalidate();
*/
        }else{
            
           JLabel  jlb_barras = new JLabel();
           jlb_barras.setSize(230, 140);
           jlb_barras.setLocation(0, 0);
           jlb_barras.setIcon(new ImageIcon( getClass().getResource("/Recursos/repro_barras.png")));
           jp_Letras.removeAll();
            jp_Letras.add(jlb_barras);
            jp_Letras.revalidate();
            jp_Letras.repaint();
            
        }

    }//GEN-LAST:event_karaokeActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton2ActionPerformed

    private void STARTActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_STARTActionPerformed
        // TODO add your handling code here:
        
        if(!START.isSelected()){
            canc.venta.Barra.suspend();

        }else{
            if(!canc.venta.Barra.t.isAlive())canc.venta.Barra.start();
            else  canc.venta.Barra.resume();

        }

    }//GEN-LAST:event_STARTActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton1ActionPerformed

    private void customButton1MouseDragged(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_customButton1MouseDragged
        // TODO add your handling code here:
       
    }//GEN-LAST:event_customButton1MouseDragged

    private void customButton1MouseMoved(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_customButton1MouseMoved
        // TODO add your handling code here:
         try{ Thread.sleep(175); } catch(InterruptedException e ) { System.out.println("Thread Interrupted"); }
         js_volumen.setVisible(true);
        js_volumen.validate();
    }//GEN-LAST:event_customButton1MouseMoved

    private void customButton1MouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_customButton1MouseExited
        // TODO add your handling code here:
         try{ Thread.sleep(250); } catch(InterruptedException e ) { System.out.println("Thread Interrupted"); }
        js_volumen.setVisible(false);
        js_volumen.validate();
    }//GEN-LAST:event_customButton1MouseExited

    private void js_volumenMouseMoved(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_js_volumenMouseMoved
        // TODO add your handling code here:
         try{ Thread.sleep(175); } catch(InterruptedException e ) { System.out.println("Thread Interrupted"); }
        js_volumen.setVisible(true);
        js_volumen.validate();
    }//GEN-LAST:event_js_volumenMouseMoved

    private void js_volumenMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_js_volumenMouseExited
        // TODO add your handling code here:
         try{ Thread.sleep(250); } catch(InterruptedException e ) { System.out.println("Thread Interrupted"); }
         js_volumen.setVisible(false);
        js_volumen.validate();
    }//GEN-LAST:event_js_volumenMouseExited

    private void js_volumenComponentAdded(java.awt.event.ContainerEvent evt) {//GEN-FIRST:event_js_volumenComponentAdded
        // TODO add your handling code here:
       
       
    }//GEN-LAST:event_js_volumenComponentAdded

    private void jb_repetirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jb_repetirActionPerformed
        // TODO add your handling code here:
        if(repetir==0){
            jb_repetir.setIcon(new ImageIcon( getClass().getResource("/Recursos/repro_rep_1.png")));
            jb_repetir.setToolTipText("REPETIR CANCIÓN");
            repetir++;
                       
            return;
        }
        if(repetir==1){
            jb_repetir.setIcon(new ImageIcon( getClass().getResource("/Recursos/repro_rep_todo.png")));
            jb_repetir.setToolTipText("REPETIR TODAS LAS CANCIÓNES");
            repetir++;
            return;
        }
        if(repetir==2){
            jb_repetir.setIcon(new ImageIcon( getClass().getResource("/Recursos/repro_rep_off.png")));
            jb_repetir.setToolTipText("REPETICIÓN DESACTIVADA");
            repetir=0;
            
        }
        
        
    }//GEN-LAST:event_jb_repetirActionPerformed

    private void jtb_agrandarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jtb_agrandarActionPerformed
        // TODO add your handling code here:
        if(jtb_agrandar.isSelected()){
           // jtb_agrandar.setLocation(238,150);

            canc.venta.setSize(300, 168);
            Shape forma = new RoundRectangle2D.Double(0,0,canc.venta.getBounds().width,canc.venta.getBounds().height,110,110);
            AWTUtilities.setWindowShape(canc.venta, forma);
            jLabel1.setIcon(new ImageIcon( getClass().getResource("/Recursos/fondo_celeste2.png")));
         //   jlb_barras.setVisible(false);
         jp_Letras.setVisible(false);
            jLabel1.setSize(300,168);
            jLabel1.repaint();
            canc.jtb_lista.setEnabled(false);
            jLabel1.revalidate();

        }else{

            canc.venta.setSize(300, 336);
            Shape forma = new RoundRectangle2D.Double(0,0,canc.venta.getBounds().width,canc.venta.getBounds().height,125,125);
            AWTUtilities.setWindowShape(canc.venta, forma);
            jLabel1.setIcon(new ImageIcon( getClass().getResource("/Recursos/Fondo_celeste1.png")));
            jLabel1.setLocation(0, 0);
            jLabel1.setSize(300,336);
            jLabel1.repaint();
            jp_Letras.setVisible(true);
//            jlb_barras.setVisible(true);
            canc.jtb_lista.setEnabled(true);
            jLabel1.revalidate();
           // jtb_agrandar.setLocation(238,315);
        }

    }//GEN-LAST:event_jtb_agrandarActionPerformed
  double valor;
    private void jp_ProgresoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jp_ProgresoMouseClicked
        // TODO add your handling code here:
         
      int x = evt.getX();
      int y = evt.getY();
     // JOptionPane.showMessageDialog(canc,x + "+"+y+"="+(x + y)); 
       
      if(x==40)return;//reiniciar cancion
         
         valor = Math.toDegrees( Math.atan(((double)y-40)/((double)x-40)));
         int z;
          
         if(x>40)
         { 
             z = (int)Math.floor((valor+90)/1.2);
            
         }else{
             
             z = (int)Math.floor((valor+270)/1.2);
         }
       // JOptionPane.showMessageDialog(canc,valor); 
         //jp_Progreso.ActualizarProgreso(z);
          canc.venta.Barra.n=z;
         
    }//GEN-LAST:event_jp_ProgresoMouseClicked


    // Variables declaration - do not modify//GEN-BEGIN:variables
    public peppermusic.CustomButton START;
    private peppermusic.CustomButton customButton1;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JTextArea jTextArea1;
    private javax.swing.JButton jb_repetir;
    private javax.swing.JLabel jlb_tiempo;
    private javax.swing.JPanel jp_Letras;
    private peppermusic.CustomPanel jp_Progreso;
    private javax.swing.JScrollPane js_Letras;
    private javax.swing.JSlider js_volumen;
    private javax.swing.JToggleButton jtb_agrandar;
    private peppermusic.CustomButton jtb_aleatorio;
    private javax.swing.JToggleButton karaoke;
    // End of variables declaration//GEN-END:variables
}
